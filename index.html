<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8"/>

<title>Reproduz link</title>
<meta name="author" content="Franklin Vieira Barbosa"> 
<meta name="description" content="Meta Tags na Devmedia"> 
<meta name="keywords" content="sites, web, Youtube, música>
<meta charset="UTF-8"/>

<style>
header{
background-color: blue;
position: relative;
margin-bottom: 10px;
top: 5px;
height: auto;
width: 70%;
display: flex;
justify-content: center;
font-family: raleway;
font-size: 19px;
}

section{
background-color: grey;
position: relative;
margin-bottom: 20px;
width: 80%;
height: auto;
}

#vid{
background-color: yellow;
position: relative;
margin-bottom: 20px;
width: 90%;
height: auto;
}

main{
background-color: green;
position: relative;
margin-bottom: 50px;
top: 10px;
height: auto;
width: 70%;
}

#lk{
width: 30%;
margin-top: 20px;
margin-bottom: 20px;
}

video{
margin-top: 20px;
margin-bottom: 20px;
}

iframe{
margin-top: 20px;
margin-bottom: 20px;
}
</style>

<script>
var link = "";
var videos = ['<div id="vid"><iframe id="' + 0 + '" width="560" height="315" src="' + 'https://www.youtube.com/embed/BKDz5kNjkfU' + '"frameborder="0" ></iframe></div>'];
var quantidade = 1;

inic();

function inic(){
vvds.innerHTML = "" + videos[0];
}


function pega(){
link = document.getElementById("lk").value;
document.getElementById("lk").value = "";

if(link.includes("https://www.youtube.com/") || link.includes("www.youtube.com/") || link.includes("https://youtu.be/")){
link = link.replace("watch?v=", "embed/");
link = link.replace(".be/", ".be/embed/");
link = link.replace("youtu.be", "www.youtube.com");


videos[quantidade] = '<iframe id="' + quantidade + '" width="560" height="315" src="' + link + '"frameborder="0" ></iframe><br/><center>' + '<input type="button"' + 'onclick="dell(' + quantidade + ')"' + 'value="Apagar"></center>';

console.log(videos);
console.log(quantidade);

vvds.innerHTML = videos[quantidade] + vvds.innerHTML;

quantidade++;

}else{
sts.innerHTML = "Status: Insira um link do Youtube!";

setTimeout(function(){sts.innerHTML = "Status: Tudo ok!";},5000);

}

}

function dell(x = 0){
videos.splice(x, 1)
quantidade--;
console.log(videos)
vvds.innerHTML = "";
for(y = 0; y < quantidade; y++){
vvds.innerHTML = videos[y] + vvds.innerHTML;
}
}





</script>

</head>
<body><center>
<header>Reproduz link</header>

<main>
<section><div id="sts">Status: Tudo ok!</div></section>

<section> <center><input type="text" id="lk" placeholder="Insira seu link aqui!" width="100%"> <input type="button" id="bt" onclick="pega();" value="Inserir link"></center></section>

<section><center><div id="vvds">rt</div></center></section>
</main>

<footer></footer>
</center></body>
</html>

